
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>It's official: mruby-browser is now called WebRuby! - Xuejie Xiao's playground</title>
	<meta name="author" content="Xuejie Xiao">

	
	<meta name="description" content="After a pretty long discussion and fix(Thanks to Alon for the awesome job in fixing this issue!), now setjmp/longjmp in emscripten works well. The C &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Xuejie Xiao's playground" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>

<body>
	<header id="header" class="inner"><h1><a href="/">Xuejie Xiao's playground</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Blog</a></li>
	<li><a href="/blog/archives">Archives</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:xxuejie.github.com">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		<a class="google" href="https://plus.google.com/104023845771520636265?rel=author" title="Google+">Google+</a>
		
		
		<a class="twitter" href="http://twitter.com/defmacro" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/xxuejie" title="GitHub">GitHub</a>
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:xxuejie.github.com">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner"><article class="post">
	<h1 class="title">It's Official: Mruby-browser Is Now Called WebRuby!</h1>
	<div class="entry-content"><p>After a pretty long <a href="https://github.com/kripken/emscripten/issues/747">discussion and fix</a>(Thanks to <a href="https://github.com/kripken">Alon</a> for the awesome job in fixing this issue!), now <code>setjmp/longjmp</code> in <code>emscripten</code> works well. The C++ dependency in <code>mruby-browser</code> can be finally dropped, and all the mruby tests can pass without any particular hack. We can now say that the basic building block is there, and I can turn to focus on more interesting stuffs. It is also at this time that I think a new meaningful name is needed for this project. The original <code>mruby-browser</code> sounds too much like an experiment instead of a project for everyone to use.</p>

<p>The first thing came to my mind is <code>RubyScript</code>. With something already built called <code>CoffeeScript</code> or <code>ClojureScript</code>, it is not so hard for this particular name to come to my mind. However, Google tells us that someone has already uses this <a href="https://github.com/judofyr/rubyscript">name</a>. It looks quite like a hackathon project(20 commits in two days, and no commits since then for over a year). But I still do not want to take the risk that this guy(or lady, it is so hard for me to judge this by the name, can anyone give me a hint?) may want to bring this project back to life. Let&#8217;s try something else.</p>

<p>What&#8217;s worth mentioning is that someone is building <a href="http://mobiruby.org/">MobiRuby</a>, which brings mruby to iOS. Well, I&#8217;m bringing mruby to the Web, so what about <code>WebRuby</code>? Google tells us that there aren&#8217;t so many people using this name, <a href="https://github.com/SatishTalim/webruby">one</a> is using this as a repository for a web <a href="http://rubylearning.org/">course</a>, while the <a href="https://github.com/socialshift/web-ruby">other</a> is just a sinatra-based web backend. Well, I will just pick this one as the name:)</p>

<p>Besides changing the name, I also change the build script a little bit. Now we can simply put mruby source code in <code>src</code> folder, the source code will be parsed and compiled when building the project. Only the final generated bytecode will be included in the js file or the webpage. This saves us the time for parsing the source code online. If at some point we need to parse the mruby source code online, we can easily bring this back since the parse code is still included in the generated <code>js</code> code.</p>

<p>Personally, one good thing about owning an open source project is that you can decide the priority of each feature:) As a developer who always dream about creating games, my next thing to work on will be a wrapper for <code>OpenGL ES 2.0</code> API. I still haven&#8217;t thought of some beautiful ideas on a calling interface between mruby and c(or js), so I think I will first focus on some particular library wrappers. Since <a href="http://mruby.sh/201212101231.html">mrbgems</a> is already in HEAD, it becomes a natural idea to pack this library as a mrbgem. The reason for choosing <code>OpenGL ES 2.0</code> over <code>WebGL</code> is that <code>OpenGL ES 2.0</code> is more general, and maybe it can also be used with <code>mruby</code> in iOS or Android development. What&#8217;s more, <code>emscripten</code> provides a translation between <code>OpenGL ES 2.0</code> and <code>WebGL</code>, so we can simply take advantage of that instead of write yet another wrapper of <code>WebGL</code>.</p>

<p>Just as I said before, it is really fun working on this:)</p>
</div>


<div class="meta">
	<div class="date">








  


<time datetime="2012-12-11T15:32:00-05:00" pubdate data-updated="true">Dec 11<span>th</span>, 2012</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/javascript/'>JavaScript</a>, <a class='category' href='/blog/categories/mruby/'>mruby</a>, <a class='category' href='/blog/categories/webruby/'>webruby</a>


</div>
	
</div></article>


<section id="comment">
    <h1 class="title">Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>
</div>
	<footer id="footer" class="inner">Copyright &copy; 2012 -

    Xuejie Xiao

<span class="credit">
  - Powerd by <a href="http://ocropress.org">Octopress</a>
  - Theme
  <a href="http://zespia.tw/Octopress-Theme-Slash/">Slash</a>
  created by
  <a href="http://zespia.tw/">Zespia</a>
</span>
</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'qiezi';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://xxuejie.github.com/blog/2012/12/11/mruby-browser-is-now-called-webruby/';
        var disqus_url = 'http://xxuejie.github.com/blog/2012/12/11/mruby-browser-is-now-called-webruby/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-35905691-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>